# Core Agents

4 agents: skill management + security testing orchestration.

## Agents

| Agent | Lines | Role | Mounts | Delegates |
|-------|-------|------|--------|-----------|
| skiller | 64 | Create/validate skills | `/skiller` | None |
| pentester-orchestrator | 137 | Coordinate pentests | `/pentest` | pentester-executor |
| pentester-executor | 102 | Execute vuln tests | attack-specific | None |
| hackerone | 133 | Bug bounty automation | `/hackerone` | pentester-orchestrator |

## Interaction Model

**Single asset**: User → Orchestrator (plans → approval) → 15 Executors → Report
**Bug bounty**: User → HackerOne (plans → approval) → 12 Orchestrators → Submissions

## Planning & Approval (MANDATORY)

Both orchestrators require user approval before deploying agents:

1. **Pentester Orchestrator**: Phase 3 after reconnaissance
2. **HackerOne Hunter**: Phase 2 after scope analysis + Phase 6 before submission

Present plans via `AskUserQuestion`: "Approve?", "Modify?", "Cancel?"

Log all decisions: `{"phase":"planning","action":"user-approval","result":"approved"}`

See `PLANNING_WORKFLOW.md` for complete workflow.

## Output Standards

**Activity logs**: `outputs/{engagement}/activity/{agent-name}.log` (NDJSON)
**Findings**: `outputs/{engagement}/findings/finding-{NNN}/` (PoC + evidence)
**Reports**: `pentest-report.json` or `submission-{NNN}.md`

See `reference/OUTPUT_STRUCTURE.md` for formats.

## Executor Specializations (30+)

Pentester Executor has 30+ attack types:
- **Injection** (6): SQL, NoSQL, Command, SSTI, XXE, LDAP
- **Client-Side** (6): XSS, CSRF, Clickjacking, CORS, Prototype Pollution, DOM
- **Server-Side** (6): SSRF, HTTP Smuggling, Path Traversal, File Upload, Deserialization, Host Header
- **Authentication** (4): Bypass, JWT, OAuth, Password Attacks
- **API** (4): GraphQL, REST, WebSocket, Web LLM
- **Business Logic** (6): Logic Flaws, Race Conditions, Access Control, Cache Poisoning, Cache Deception, Info Disclosure

Each: Mounts attack skill → Follows 4-phase workflow (Recon → Experiment → Test → Verify) → Outputs activity log + findings

## Agent Structure (< 150 lines)

```yaml
---
name: agent-name
description: Brief description
color: red/blue/green/purple/orange
tools: [Tool1, Tool2]
---

# Agent Name
## When to Use
## Workflow
## Output Structure
## Delegation
## Critical Rules
```

## Reference

- `PLANNING_WORKFLOW.md` - Complete planning & approval workflow
- `WORKFLOW_DIAGRAM.md` - Visual workflow diagrams
- `STRUCTURE.md` - Architecture overview
- `reference/OUTPUT_STRUCTURE.md` - Log/finding formats
- `reference/TEST_PLAN_FORMAT.md` - Test plan template
